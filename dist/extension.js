(()=>{"use strict";var e={265:function(e,t,o){var i=this&&this.__createBinding||(Object.create?function(e,t,o,i){void 0===i&&(i=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,i,r)}:function(e,t,o,i){void 0===i&&(i=o),e[i]=t[o]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&i(t,e,o);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const n=s(o(398)),c=o(317),l=s(o(928));t.activate=function(e){console.log("Activating DictionaryViewProvider");const t=new a(e.extensionUri);console.log("context.extensionUri:",e.extensionUri),console.log("Registering webview view provider for dictionaryView"),e.subscriptions.push(n.window.registerWebviewViewProvider("dictionaryView",t))},t.deactivate=function(){};class a{constructor(e){this.extensionUri=e,console.log("DictionaryViewProvider constructor called")}resolveWebviewView(e){console.log("resolveWebviewView called"),this._view=e,e.webview.options={enableScripts:!0,localResourceRoots:[n.Uri.file(l.join(this.extensionUri.fsPath,"dist"))]},e.webview.html=this.getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage((e=>{console.log("Extension received message:",e),"lookup"===e.type&&this._view&&this.lookupWord(e.word)}))}getHtmlForWebview(e){const t=e.asWebviewUri(n.Uri.file(l.join(this.extensionUri.fsPath,"dist","webview.js")));return console.log("scriptUri:",t.toString()),`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src ${e.cspSource}; style-src ${e.cspSource} 'unsafe-inline';"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Dictionary</title></head><body><div id="root"></div><script src="${t}" nonce="${e.cspSource}"><\/script></body></html>`}lookupWord(e){if(!this._view)return;const t=this._view.webview;console.log(`lookupWord called with: ${e}`);const o=l.join(this.extensionUri.fsPath,"dist","scripts","lookup.py");console.log(`Executing python script at: ${o}`),(0,c.execFile)("python3",[o,"--word",e],{encoding:"utf8"},((e,o,i)=>{if(console.log("lookupWord callback err:",e),console.log("lookupWord callback stdout:",o),console.log("lookupWord callback stderr:",i),e)t.postMessage({type:"error",error:i||e.message});else try{const e=JSON.parse(o);t.postMessage({type:"results",data:e})}catch(e){t.postMessage({type:"error",error:e.message})}}))}}},317:e=>{e.exports=require("child_process")},398:e=>{e.exports=require("vscode")},928:e=>{e.exports=require("path")}},t={},o=function o(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,o),s.exports}(265);module.exports=o})();